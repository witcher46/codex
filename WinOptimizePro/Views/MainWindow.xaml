<Window x:Class="WinOptimizePro.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="WinOptimizePro" Height="820" Width="1320" WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="260" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <Border Background="#1F2937" Padding="18">
            <StackPanel>
                <TextBlock Text="WinOptimizePro" FontSize="24" FontWeight="Bold" Foreground="White" />
                <TextBlock Text="Desktop Optimization Suite" Foreground="#9CA3AF" Margin="0,2,0,22" />

                <Button Content="Analyze System" Command="{Binding AnalyzeCommand}" />
                <Button Content="One-Click Optimize" Command="{Binding OneClickOptimizeCommand}" FontWeight="Bold" />
                <Button Content="Clean Temp &amp; Junk" Command="{Binding CleanCommand}" />
                <Button Content="Clean Browsers" Command="{Binding BrowserCleanCommand}" />
                <Button Content="Quick Malware Scan" Command="{Binding ScanMalwareCommand}" />
                <Button Content="Toggle Dark/Light" Command="{Binding ToggleThemeCommand}" Margin="6,20,6,6" />

                <Border Background="#111827" CornerRadius="8" Margin="0,24,0,0" Padding="10">
                    <StackPanel>
                        <TextBlock Text="Status" Foreground="#9CA3AF" />
                        <TextBlock Text="{Binding StatusMessage}" Foreground="White" TextWrapping="Wrap" />
                    </StackPanel>
                </Border>
            </StackPanel>
        </Border>

        <ScrollViewer Grid.Column="1" VerticalScrollBarVisibility="Auto" Background="#F3F4F6">
            <StackPanel Margin="24">
                <TextBlock Text="System Dashboard" FontSize="28" FontWeight="Bold" />

                <UniformGrid Columns="4" Margin="0,16,0,12">
                    <Border Background="White" Margin="6" CornerRadius="10" Padding="16">
                        <StackPanel>
                            <TextBlock Text="CPU Usage" FontWeight="SemiBold" />
                            <ProgressBar Value="{Binding CpuUsage}" Maximum="100" Height="16" Margin="0,8,0,4" />
                            <TextBlock Text="{Binding CpuUsage, StringFormat={}{0:N0}%}" />
                        </StackPanel>
                    </Border>
                    <Border Background="White" Margin="6" CornerRadius="10" Padding="16">
                        <StackPanel>
                            <TextBlock Text="RAM Usage" FontWeight="SemiBold" />
                            <ProgressBar Value="{Binding RamUsage}" Maximum="100" Height="16" Margin="0,8,0,4" />
                            <TextBlock Text="{Binding RamUsage, StringFormat={}{0:N0}%}" />
                        </StackPanel>
                    </Border>
                    <Border Background="White" Margin="6" CornerRadius="10" Padding="16">
                        <StackPanel>
                            <TextBlock Text="Disk Usage" FontWeight="SemiBold" />
                            <ProgressBar Value="{Binding DiskUsage}" Maximum="100" Height="16" Margin="0,8,0,4" />
                            <TextBlock Text="{Binding DiskUsage, StringFormat={}{0:N0}%}" />
                        </StackPanel>
                    </Border>
                    <Border Background="White" Margin="6" CornerRadius="10" Padding="16">
                        <StackPanel>
                            <TextBlock Text="Health Score" FontWeight="SemiBold" />
                            <TextBlock Text="{Binding HealthScore}" FontSize="44" Foreground="#10B981" FontWeight="Bold" />
                            <TextBlock Text="Startup Time: ">
                                <Run Text="{Binding StartupTime}" />
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </UniformGrid>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0" Background="White" CornerRadius="10" Padding="14" Margin="6">
                        <StackPanel>
                            <TextBlock Text="Running Processes" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,8" />
                            <ListBox ItemsSource="{Binding Processes}" Height="180" />
                        </StackPanel>
                    </Border>

                    <Border Grid.Column="1" Background="White" CornerRadius="10" Padding="14" Margin="6">
                        <StackPanel>
                            <TextBlock Text="Background Services" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,8" />
                            <ListBox ItemsSource="{Binding Services}" Height="180" />
                        </StackPanel>
                    </Border>
                </Grid>

                <TabControl Margin="6,12,6,6">
                    <TabItem Header="Cleaner">
                        <Grid Margin="10">
                            <DataGrid ItemsSource="{Binding CleaningTargets}" AutoGenerateColumns="False" CanUserAddRows="False">
                                <DataGrid.Columns>
                                    <DataGridCheckBoxColumn Header="Select" Binding="{Binding IsSelected}" />
                                    <DataGridTextColumn Header="Item" Binding="{Binding Name}" Width="*" />
                                    <DataGridTextColumn Header="Path" Binding="{Binding Path}" Width="2*" />
                                    <DataGridTextColumn Header="Estimated MB" Binding="{Binding EstimatedBytes, StringFormat={}{0:N0}}" />
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                    </TabItem>
                    <TabItem Header="Startup Optimizer">
                        <Grid Margin="10">
                            <DataGrid ItemsSource="{Binding StartupItems}" AutoGenerateColumns="False" CanUserAddRows="False">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Program" Binding="{Binding Name}" Width="*" />
                                    <DataGridTextColumn Header="Source" Binding="{Binding Source}" Width="*" />
                                    <DataGridTextColumn Header="Impact" Binding="{Binding Impact}" Width="Auto" />
                                    <DataGridTextColumn Header="Recommendation" Binding="{Binding Recommendation}" Width="2*" />
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                    </TabItem>
                    <TabItem Header="Security Scan">
                        <Grid Margin="10">
                            <DataGrid ItemsSource="{Binding Findings}" AutoGenerateColumns="False" CanUserAddRows="False">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="File" Binding="{Binding FilePath}" Width="2*" />
                                    <DataGridTextColumn Header="Signature" Binding="{Binding SignatureName}" Width="*" />
                                    <DataGridTextColumn Header="Risk" Binding="{Binding RiskLevel}" Width="Auto" />
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                    </TabItem>
                    <TabItem Header="Privacy Risks">
                        <Grid Margin="10">
                            <ListBox ItemsSource="{Binding PrivacyRisks}" />
                        </Grid>
                    </TabItem>
                </TabControl>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>
